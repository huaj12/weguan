package com.qplus;

public class QOpenTest {

	public static void main(String[] args) throws Throwable {
		String appopenid = "200254101";
		String appopenkey = "Ssf8YV6G0pEKt3IX";
		// 用户端的ip
		String userip = "127.0.0.1";
		// 获取服务实例
		final QOpenService service = QOpenService.createInstance(200254101,
				"Ssf8YV6G0pEKt3IX"); // 语言默认 2052
		// 构建参数
		final QOpenBean bean = new QOpenBean(appopenid, appopenkey, userip);
		System.out.println(service.getLoginParams(bean));
		// 检查用户是否登录
		QOpenResult result = service.checkLogin(bean);
		System.out.println("结果是否返回正常: " + result.isSuccess());
		if (result.isSuccess()) {
			System.out.println("用户是否有效为: " + result.getValue("valide"));
		} else {
			System.out.println(result);
		}
		// 获取用户信息
		result = service.getUserInfo(bean);
		System.out.println("结果是否返回正常: " + result.isSuccess());
		if (result.isSuccess()) {
			System.out.println("用户信息为: " + result.getQPlusInfo());
		} else {
			System.out.println(result);
		}
	}
}
